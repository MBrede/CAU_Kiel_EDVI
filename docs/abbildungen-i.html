<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Abbildungen I | EDV1</title>
  <meta name="description" content="Einführung in die computerunterstützte Datananalyse mit R im Wintersemester 2020" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Abbildungen I | EDV1" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Einführung in die computerunterstützte Datananalyse mit R im Wintersemester 2020" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Abbildungen I | EDV1" />
  
  <meta name="twitter:description" content="Einführung in die computerunterstützte Datananalyse mit R im Wintersemester 2020" />
  

<meta name="author" content="Max Brede" />


<meta name="date" content="2021-02-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="aggregation-und-filemanagement.html"/>
<link rel="next" href="abbildungen-ii.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EDV 1 <br> WiSe 20</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Vorwort</a></li>
<li class="chapter" data-level="" data-path="lehrplan.html"><a href="lehrplan.html"><i class="fa fa-check"></i>Lehrplan</a>
<ul>
<li class="chapter" data-level="" data-path="lehrplan.html"><a href="lehrplan.html#semesterplan"><i class="fa fa-check"></i>Semesterplan</a></li>
<li class="chapter" data-level="" data-path="lehrplan.html"><a href="lehrplan.html#übungsformat"><i class="fa fa-check"></i>Übungsformat</a></li>
<li class="chapter" data-level="" data-path="lehrplan.html"><a href="lehrplan.html#lehrziele-für-jede-sitzung"><i class="fa fa-check"></i>Lehrziele für jede Sitzung</a></li>
<li class="chapter" data-level="" data-path="lehrplan.html"><a href="lehrplan.html#prüfungsleistung"><i class="fa fa-check"></i>Prüfungsleistung</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="vorlesung-i-rste-schritte.html"><a href="vorlesung-i-rste-schritte.html"><i class="fa fa-check"></i>Vorlesung I - Rste Schritte</a>
<ul>
<li class="chapter" data-level="" data-path="vorlesung-i-rste-schritte.html"><a href="vorlesung-i-rste-schritte.html#organisatorisches"><i class="fa fa-check"></i>Organisatorisches</a></li>
<li class="chapter" data-level="" data-path="vorlesung-i-rste-schritte.html"><a href="vorlesung-i-rste-schritte.html#einführung"><i class="fa fa-check"></i>Einführung</a></li>
<li class="chapter" data-level="" data-path="vorlesung-i-rste-schritte.html"><a href="vorlesung-i-rste-schritte.html#grundlegende-rechenoperationen"><i class="fa fa-check"></i>Grundlegende Rechenoperationen</a></li>
<li class="chapter" data-level="" data-path="vorlesung-i-rste-schritte.html"><a href="vorlesung-i-rste-schritte.html#ausdrücke-funktionen-argumente"><i class="fa fa-check"></i>Ausdrücke, Funktionen, Argumente</a></li>
<li class="chapter" data-level="" data-path="vorlesung-i-rste-schritte.html"><a href="vorlesung-i-rste-schritte.html#objekte"><i class="fa fa-check"></i>Objekte</a></li>
<li class="chapter" data-level="" data-path="vorlesung-i-rste-schritte.html"><a href="vorlesung-i-rste-schritte.html#hausaufgabe"><i class="fa fa-check"></i>Hausaufgabe</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="elementare-datenverarbeitung.html"><a href="elementare-datenverarbeitung.html"><i class="fa fa-check"></i>elementare Datenverarbeitung</a>
<ul>
<li class="chapter" data-level="" data-path="elementare-datenverarbeitung.html"><a href="elementare-datenverarbeitung.html#organisatorisches-1"><i class="fa fa-check"></i>Organisatorisches</a></li>
<li class="chapter" data-level="" data-path="elementare-datenverarbeitung.html"><a href="elementare-datenverarbeitung.html#vektoren"><i class="fa fa-check"></i>Vektoren</a></li>
<li class="chapter" data-level="" data-path="elementare-datenverarbeitung.html"><a href="elementare-datenverarbeitung.html#indizierung"><i class="fa fa-check"></i>Indizierung</a></li>
<li class="chapter" data-level="" data-path="elementare-datenverarbeitung.html"><a href="elementare-datenverarbeitung.html#systematische-wertefolgen-erzeugen"><i class="fa fa-check"></i>Systematische Wertefolgen erzeugen</a></li>
<li class="chapter" data-level="" data-path="elementare-datenverarbeitung.html"><a href="elementare-datenverarbeitung.html#daten-transformieren"><i class="fa fa-check"></i>Daten transformieren</a></li>
<li class="chapter" data-level="" data-path="elementare-datenverarbeitung.html"><a href="elementare-datenverarbeitung.html#einfache-deskriptiv-statistische-kennwerte"><i class="fa fa-check"></i>Einfache deskriptiv-statistische Kennwerte</a></li>
</ul></li>
<li><a href="tidyverse-und-tibbles.html#tidyverse-und-tibbles"><code>tidyverse</code> und <code>tibbles</code></a>
<ul>
<li class="chapter" data-level="" data-path="tidyverse-und-tibbles.html"><a href="tidyverse-und-tibbles.html"><i class="fa fa-check"></i>Organisatorisches</a></li>
<li class="chapter" data-level="" data-path="tidyverse-und-tibbles.html"><a href="tidyverse-und-tibbles.html#pakete-benutzen"><i class="fa fa-check"></i>Pakete benutzen</a></li>
<li class="chapter" data-level="" data-path="tidyverse-und-tibbles.html"><a href="tidyverse-und-tibbles.html#datensätze-erstellen-und-ergänzen"><i class="fa fa-check"></i>Datensätze erstellen und ergänzen</a></li>
<li class="chapter" data-level="" data-path="tidyverse-und-tibbles.html"><a href="tidyverse-und-tibbles.html#datensätze-sortieren-und-indizieren"><i class="fa fa-check"></i>Datensätze sortieren und indizieren</a></li>
<li class="chapter" data-level="" data-path="tidyverse-und-tibbles.html"><a href="tidyverse-und-tibbles.html#vorlesung"><i class="fa fa-check"></i>Vorlesung</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="faktoren-und-aggregation.html"><a href="faktoren-und-aggregation.html"><i class="fa fa-check"></i>Faktoren und Aggregation</a>
<ul>
<li class="chapter" data-level="" data-path="faktoren-und-aggregation.html"><a href="faktoren-und-aggregation.html#organisatorisches-3"><i class="fa fa-check"></i>Organisatorisches</a></li>
<li class="chapter" data-level="" data-path="faktoren-und-aggregation.html"><a href="faktoren-und-aggregation.html#faktoren"><i class="fa fa-check"></i>Faktoren</a></li>
<li class="chapter" data-level="" data-path="faktoren-und-aggregation.html"><a href="faktoren-und-aggregation.html#daten-einlesen-i"><i class="fa fa-check"></i>Daten einlesen I</a></li>
<li class="chapter" data-level="" data-path="faktoren-und-aggregation.html"><a href="faktoren-und-aggregation.html#deskriptive-kennwerte"><i class="fa fa-check"></i>deskriptive Kennwerte</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="aggregation-und-filemanagement.html"><a href="aggregation-und-filemanagement.html"><i class="fa fa-check"></i>Aggregation und Filemanagement</a>
<ul>
<li class="chapter" data-level="" data-path="aggregation-und-filemanagement.html"><a href="aggregation-und-filemanagement.html#organisatorisches-4"><i class="fa fa-check"></i>Organisatorisches</a></li>
<li class="chapter" data-level="" data-path="aggregation-und-filemanagement.html"><a href="aggregation-und-filemanagement.html#aggregation"><i class="fa fa-check"></i>Aggregation</a></li>
<li class="chapter" data-level="" data-path="aggregation-und-filemanagement.html"><a href="aggregation-und-filemanagement.html#daten-einlesen-ii-und-zusammenfügen"><i class="fa fa-check"></i>Daten einlesen II und zusammenfügen</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="abbildungen-i.html"><a href="abbildungen-i.html"><i class="fa fa-check"></i>Abbildungen I</a>
<ul>
<li class="chapter" data-level="" data-path="abbildungen-i.html"><a href="abbildungen-i.html#organisatorisches-5"><i class="fa fa-check"></i>Organisatorisches</a></li>
<li class="chapter" data-level="" data-path="abbildungen-i.html"><a href="abbildungen-i.html#pivotieren-von-datensätzen"><i class="fa fa-check"></i>Pivotieren von Datensätzen</a></li>
<li class="chapter" data-level="" data-path="abbildungen-i.html"><a href="abbildungen-i.html#diagramme-erstellen"><i class="fa fa-check"></i>Diagramme erstellen</a></li>
<li><a href="abbildungen-i.html#geoms"><code>geom</code>s</a></li>
<li class="chapter" data-level="" data-path="abbildungen-i.html"><a href="abbildungen-i.html#line-charts"><i class="fa fa-check"></i>line-charts</a></li>
<li class="chapter" data-level="" data-path="abbildungen-i.html"><a href="abbildungen-i.html#balkendiagramme"><i class="fa fa-check"></i>Balkendiagramme</a></li>
<li class="chapter" data-level="" data-path="abbildungen-i.html"><a href="abbildungen-i.html#verteilungsdarstellungen"><i class="fa fa-check"></i>Verteilungsdarstellungen</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="abbildungen-ii.html"><a href="abbildungen-ii.html"><i class="fa fa-check"></i>Abbildungen II</a>
<ul>
<li class="chapter" data-level="" data-path="abbildungen-ii.html"><a href="abbildungen-ii.html#organisatorisches-6"><i class="fa fa-check"></i>Organisatorisches</a></li>
<li class="chapter" data-level="" data-path="abbildungen-ii.html"><a href="abbildungen-ii.html#gruppierte-darstellungen"><i class="fa fa-check"></i>Gruppierte Darstellungen</a></li>
<li class="chapter" data-level="" data-path="abbildungen-ii.html"><a href="abbildungen-ii.html#layer-für-zusätzliche-informationen"><i class="fa fa-check"></i>Layer für zusätzliche Informationen</a></li>
<li class="chapter" data-level="" data-path="abbildungen-ii.html"><a href="abbildungen-ii.html#zusätzliche-tweaks"><i class="fa fa-check"></i>Zusätzliche tweaks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="literatur-1.html"><a href="literatur-1.html"><i class="fa fa-check"></i>Literatur</a></li>
<li class="divider"></li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Lizenzvertrag" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EDV1</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="abbildungen-i" class="section level1">
<h1>Abbildungen I</h1>
<div id="organisatorisches-5" class="section level2">
<h2>Organisatorisches</h2>
<div id="semesterplan-6" class="section level3">
<h3>Semesterplan</h3>
<table class=" lightable-paper" style="font-size: 15px; font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Einheit
</th>
<th style="text-align:left;">
Vorlesung
</th>
<th style="text-align:left;">
Übungswoche
</th>
<th style="text-align:left;">
Thema
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
2.11.20
</td>
<td style="text-align:left;">
keine Übung
</td>
<td style="text-align:left;">
Grundlagen und Begriffe
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
16.11.20
</td>
<td style="text-align:left;">
KW 48
</td>
<td style="text-align:left;">
Vektoren und Indizierung
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Datenformate erstellen und transformieren
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
30.11.20
</td>
<td style="text-align:left;">
KW 50
</td>
<td style="text-align:left;">
Pakete installieren und benutzen
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Datensätze erstellen und ergänzen können
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Datensätze sortieren und indizieren können
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
14.12.20
</td>
<td style="text-align:left;">
KW 1
</td>
<td style="text-align:left;">
Faktoren
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
deskriptive Kennwerte
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Aggregation I
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
11.01.21
</td>
<td style="text-align:left;">
KW 3
</td>
<td style="text-align:left;">
Aggregation II
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
In- und Export von Datensätzen
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
25.01.21
</td>
<td style="text-align:left;">
KW 5
</td>
<td style="text-align:left;">
Grafische Darstellungen I
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
08.02.21
</td>
<td style="text-align:left;">
KW 7
</td>
<td style="text-align:left;">
Grafische Darstellungen II
</td>
</tr>
<tr>
<td style="text-align:left;">
8
</td>
<td style="text-align:left;">
22.02.21
</td>
<td style="text-align:left;">
keine Übung
</td>
<td style="text-align:left;">
Puffer
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Probeklausur
</td>
</tr>
</tbody>
</table>
<!-- # Präsenzaufgabe -->
<!-- ### Präsenzaufgabe: (fast) Prüfungsformat -->
<!-- \scriptsize -->
<!-- An einer Stichprobe von 100 Rosen soll überprüft werden, ob ein neuer Dünger-Zusatz dem Wachstum der Pflanze hilft. Zusätzlich zur endgültigen Größe der Pflanze wurde die Farbe der Pflanze erhoben, um einen Einfluss der Sorte zu kontrollieren. -->
<!-- \begin{enumerate} -->
<!-- \item Erstellen Sie dazu...:  -->
<!-- \begin{itemize}  -->
<!-- \item {\scriptsize Einen Faktor, der, mit gleicher Wahrscheinlichkeit zugeteilt, die möglichen Farben in der Stichprobe (rot, gelb und weiß) angibt.} -->
<!-- \item {\scriptsize Einen Vektor, der die Größe der Pflanzen in Zentimeter angibt. Diese sollen entsprechend der U(50,150)-Verteilung erstellt und auf eine Nachkommastelle gerundet werden.} -->
<!-- \item {\scriptsize Einen logischen Vektor, der angibt, ob die Pflanze den Dünger mit oder ohne Zusatz erhalten hat. Dabei sollen die möglichen Werte mit gleicher Auftretens-Wahrscheinlichkeit gezogen werden.} -->
<!-- \end{itemize} -->
<!-- \item Fügen Sie diese Variablen zu einem Datensatz zusammen. -->
<!-- \item Berechnen Sie jeweils den auf eine Nachkommastelle gerundeten Mittelwert der beiden Zusatz-Gruppen. -->
<!-- \item Erstellen Sie eine Kontingenztafel mit den relativen Häufigkeiten der jeweiligen Farben. -->
<!-- \item Berechnen Sie die auf eine Nachkommastelle gerundeten Mittelwerte der jeweiligen Wuchshöhe der Rosen pro Farbe.  -->
<!-- \end{enumerate} -->
<!-- ### Präsenzaufgabe -->
<!-- \begin{minipage}{.6\textwidth} -->
<!-- \textbf{Konnte ich alles nachvollziehen!} -->
<!-- \begin{itemize} -->
<!-- \item[A] Ja! -->
<!--   \item[B] Nein! -->
<!--   \end{itemize} -->
<!-- \end{minipage} -->
<!-- \begin{minipage}{.4\textwidth} -->
<!-- \centering -->
<!-- https://tweedback.de/x56 -->
<!-- \includegraphics[width=.8\textwidth]{tweedback.png} -->
<!-- \end{minipage} -->
</div>
</div>
<div id="pivotieren-von-datensätzen" class="section level2">
<h2>Pivotieren von Datensätzen</h2>
<!-- ### Pivotieren von Datensätzen  -->
<p>Als Vorbereitung auf die Darstellung von Daten brauchen wir noch eine Funktion.</p>
<p>Für das Grafikpaket, das wir benutzen wollen, müssen die Daten im <code>long format</code> vorliegen. Das heißt, dass jede Variable eine Spalte und jede Zeile eine Beobachtung darstellt.</p>
<div class="cols">
<div class="col">
<table class=" lightable-paper" style="font-size: 15px; font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:right;">
RT
</th>
<th style="text-align:left;">
Bedingung
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Snake Müller
</td>
<td style="text-align:right;">
2624
</td>
<td style="text-align:left;">
t_1
</td>
</tr>
<tr>
<td style="text-align:left;">
Snake Müller
</td>
<td style="text-align:right;">
3902
</td>
<td style="text-align:left;">
t_2
</td>
</tr>
<tr>
<td style="text-align:left;">
Snake Müller
</td>
<td style="text-align:right;">
6293
</td>
<td style="text-align:left;">
t_3
</td>
</tr>
<tr>
<td style="text-align:left;">
Vera Baum
</td>
<td style="text-align:right;">
1252
</td>
<td style="text-align:left;">
t_1
</td>
</tr>
<tr>
<td style="text-align:left;">
Vera Baum
</td>
<td style="text-align:right;">
2346
</td>
<td style="text-align:left;">
t_2
</td>
</tr>
<tr>
<td style="text-align:left;">
Vera Baum
</td>
<td style="text-align:right;">
4321
</td>
<td style="text-align:left;">
t_3
</td>
</tr>
</tbody>
</table>
</div>
<div class="col">
<table class=" lightable-paper" style="font-size: 15px; font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Name
</th>
<th style="text-align:right;">
t_1
</th>
<th style="text-align:right;">
t_2
</th>
<th style="text-align:right;">
t_3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Snake Müller
</td>
<td style="text-align:right;">
2624
</td>
<td style="text-align:right;">
3902
</td>
<td style="text-align:right;">
6293
</td>
</tr>
<tr>
<td style="text-align:left;">
Vera Baum
</td>
<td style="text-align:right;">
1252
</td>
<td style="text-align:right;">
2346
</td>
<td style="text-align:right;">
4321
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Insbesondere müssen wir darauf achten, dass alle Werte, die wir zum Beispiel an einer Achse darstellen wollen in einer Variable vorliegen.</p>
<div id="datensatz" class="section level3">
<h3>Datensatz</h3>
<p>Wir nutzen den zusammengefügten Datensatz aus der letzten Sitzung:</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="abbildungen-i.html#cb363-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb363-2"><a href="abbildungen-i.html#cb363-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&#39;data/output.xlsx&#39;</span>, <span class="at">sheet =</span> <span class="dv">2</span>)</span>
<span id="cb363-3"><a href="abbildungen-i.html#cb363-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb363-4"><a href="abbildungen-i.html#cb363-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df)</span></code></pre></div>
<pre><code>##      Land              Stadt          
##  Length:30          Length:30         
##  Class :character   Class :character  
##  Mode  :character   Mode  :character  
##                                       
##                                       
##                                       
##   Kategorie           Merkmal         
##  Length:30          Length:30         
##  Class :character   Class :character  
##  Mode  :character   Mode  :character  
##                                       
##                                       
##                                       
##   Stadtteil             Hektar       Einpersonen    
##  Length:30          Min.   : 35.1   Min.   :  70.0  
##  Class :character   1st Qu.:237.3   1st Qu.: 821.5  
##  Mode  :character   Median :357.6   Median :1823.5  
##                     Mean   :380.1   Mean   :2609.1  
##                     3rd Qu.:573.8   3rd Qu.:3795.8  
##                     Max.   :803.5   Max.   :7257.0  
##  Paar ohne Kind   Paar mit Kindern
##  Min.   : 144.0   Min.   : 131.0  
##  1st Qu.: 696.5   1st Qu.: 906.8  
##  Median :1817.5   Median :1831.5  
##  Mean   :1859.6   Mean   :2091.2  
##  3rd Qu.:2573.2   3rd Qu.:2715.5  
##  Max.   :4856.0   Max.   :7703.0  
##  Paar mit Nachkommen Alleinerziehende
##  Min.   :  13.0      Min.   :  17.0  
##  1st Qu.: 141.5      1st Qu.: 150.8  
##  Median : 294.0      Median : 380.5  
##  Mean   : 369.8      Mean   : 504.9  
##  3rd Qu.: 537.0      3rd Qu.: 677.8  
##  Max.   :1271.0      Max.   :1926.0  
##  Sonst. Mehrpersonenhaushalte
##  Min.   :  45.0              
##  1st Qu.: 235.2              
##  Median : 541.5              
##  Mean   : 613.8              
##  3rd Qu.: 850.8              
##  Max.   :1763.0</code></pre>
<p>Um den Datensatz richtig darstellen zu können, müssen wir nun alle Werte, die auf einer Dimension dargestellt werden, in eine Variable pivotieren. Wir wollen als erstes die Anzahl der einzelnen Haushalte in einer Grafik darstellen, pivotieren den Datensatz also so, dass alle Haushalts-Spalten in einer Spalte landen. Dafür nutzen wir die <code>pivot_longer</code>-Funktion:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="abbildungen-i.html#cb365-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb365-2"><a href="abbildungen-i.html#cb365-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">all_of</span>(<span class="fu">c</span>(<span class="st">&quot;Einpersonen&quot;</span>, </span>
<span id="cb365-3"><a href="abbildungen-i.html#cb365-3" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&quot;Paar ohne Kind&quot;</span>, </span>
<span id="cb365-4"><a href="abbildungen-i.html#cb365-4" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&quot;Paar mit Kindern&quot;</span>, </span>
<span id="cb365-5"><a href="abbildungen-i.html#cb365-5" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&quot;Paar mit Nachkommen&quot;</span>,</span>
<span id="cb365-6"><a href="abbildungen-i.html#cb365-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&quot;Alleinerziehende&quot;</span>, </span>
<span id="cb365-7"><a href="abbildungen-i.html#cb365-7" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&quot;Sonst. Mehrpersonenhaushalte&quot;</span>)),</span>
<span id="cb365-8"><a href="abbildungen-i.html#cb365-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&#39;Haushaltsform&#39;</span>,</span>
<span id="cb365-9"><a href="abbildungen-i.html#cb365-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&#39;Anzahl&#39;</span>)</span>
<span id="cb365-10"><a href="abbildungen-i.html#cb365-10" aria-hidden="true" tabindex="-1"></a>df_long</span></code></pre></div>
<pre><code>## # A tibble: 180 x 8
##    Land  Stadt Kategorie Merkmal           Stadtteil
##    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;             &lt;chr&gt;    
##  1 de-sh Kiel  geo       Flächen in Hektar Altstadt 
##  2 de-sh Kiel  geo       Flächen in Hektar Altstadt 
##  3 de-sh Kiel  geo       Flächen in Hektar Altstadt 
##  4 de-sh Kiel  geo       Flächen in Hektar Altstadt 
##  5 de-sh Kiel  geo       Flächen in Hektar Altstadt 
##  6 de-sh Kiel  geo       Flächen in Hektar Altstadt 
##  7 de-sh Kiel  geo       Flächen in Hektar Vorstadt 
##  8 de-sh Kiel  geo       Flächen in Hektar Vorstadt 
##  9 de-sh Kiel  geo       Flächen in Hektar Vorstadt 
## 10 de-sh Kiel  geo       Flächen in Hektar Vorstadt 
##    Hektar Haushaltsform                Anzahl
##     &lt;dbl&gt; &lt;chr&gt;                         &lt;dbl&gt;
##  1   35.1 Einpersonen                     384
##  2   35.1 Paar ohne Kind                  305
##  3   35.1 Paar mit Kindern                165
##  4   35.1 Paar mit Nachkommen              29
##  5   35.1 Alleinerziehende                 28
##  6   35.1 Sonst. Mehrpersonenhaushalte    118
##  7   45.9 Einpersonen                     657
##  8   45.9 Paar ohne Kind                  303
##  9   45.9 Paar mit Kindern                167
## 10   45.9 Paar mit Nachkommen              13
## # … with 170 more rows</code></pre>
</div>
</div>
<div id="diagramme-erstellen" class="section level2">
<h2>Diagramme erstellen</h2>
<div id="diagramme" class="section level3">
<h3>Diagramme</h3>
<p>Diagramme als grafische Darstellung deskriptiver und inferenzstatistischer Ergebnisse sind ein wichtiger Teil jeder Auswertung. Natürlich lassen sich diese als Schritt der Auswertung auch in <code>R</code> realisieren. Im Core-Paket von R gibt es einen großen Satz an mitgelieferten Grafikfunktionen. Diese sind aber oft nur mit Mühe zu ästhetischem Wert zu bewegen und oft aufwändig von gewünschter Form zu überzeugen.</p>
</div>
<div id="ggplot2" class="section level3">
<h3><code>ggplot2</code></h3>
<p>Eine Alternative stellt das Zusatzpaket <code>ggplot2</code> dar. Dieses hat den Vorteil einer einheitlichen Syntax für die meisten Grafiken, die wir brauchen werden und macht einige häufig nötige Aspekte grafischer Darstellungen mit deutlich weniger Komplikation zugänglich. Dabei ist die Syntax aber ein wenig gewöhnungsbedürftig.</p>
<p>
Dafür müssen wir zuerst eine Grundebene erstellen, auf die wir die Grafik anschließend layern können.
</p>
<p>
Diese Grundebene kann man sich ein bisschen wie eine leere Leinwand vorstellen.
Dabei wird beim Erstellen der ‘Leinwand’ direkt festgelegt, auf welchen Daten die Abbildung basieren soll und welche Variablen wie dargestellt werden sollen.
</p>
</div>
<div id="grafiken-erstellen" class="section level3">
<h3>Grafiken erstellen</h3>
<p>Grafiken in <code>ggplot2</code> werden alle unabhängig vom Typ der am Ende erzeugten Grafik auf Basis eines <code>ggplot</code>-Objekts erstellt und manipuliert. Dieses <code>ggplot</code>-Objekt wird mit der <code>ggplot</code>-Funktion erstellt und kann sich ein bisschen wie eine leere Leinwand vorgestellt werden.</p>
<p>Diese ‘leere Leinwand’ erwartet einen Datensatz als 1. und das Ergebnis eines Aufrufes der <code>aes()</code>-Funktion als 2. Argument.
Der Datensatz dient dazu einen Variablenraum für die Darstellungen zur Verfügung zu stellen, die <code>aesthetics</code> geben unter anderem an, welche Werte für <em>x</em>- und <em>y</em>-Achse herangezogen werden.</p>
<p>So wollen wir einen Plot vorbereiten, in dem die mittlere Anzahl der Haushalte als Scatterplot gegen die Größe des Viertels abgetragen wird. Dafür pipen wir einfach die mittleren Größen in eine <code>ggplot</code>-Funktion und legen fest, was auf der x und was auf der y-Achse abgetragen werden soll:</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="abbildungen-i.html#cb367-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="sc">%&gt;%</span> </span>
<span id="cb367-2"><a href="abbildungen-i.html#cb367-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Stadtteil) <span class="sc">%&gt;%</span> </span>
<span id="cb367-3"><a href="abbildungen-i.html#cb367-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">mittlere Anzahl</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(Anzahl),</span>
<span id="cb367-4"><a href="abbildungen-i.html#cb367-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">Hektar =</span> Hektar) <span class="sc">%&gt;%</span> </span>
<span id="cb367-5"><a href="abbildungen-i.html#cb367-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Hektar,</span>
<span id="cb367-6"><a href="abbildungen-i.html#cb367-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> <span class="st">`</span><span class="at">mittlere Anzahl</span><span class="st">`</span>))</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-159-1.png" width="600px" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="geoms" class="section level2">
<h2><code>geom</code>s</h2>
<!-- ### `geom`s -->
<p>Auf diese <em>‘Leinwand’</em> können wir jetzt sogenannte <code>geom</code>s legen, die unsere Daten darstellen. Da wir einen Scatterplot planen, müssen wir nur noch Punkte hinzufügen. Dafür können wir einfach ein <code>point</code>-<code>geom</code> mit der <code>geom_point</code>-Funktion hinzufügen. Um den layer abzutragen, addieren wir einfach das geom hinzu.</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="abbildungen-i.html#cb368-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="sc">%&gt;%</span> </span>
<span id="cb368-2"><a href="abbildungen-i.html#cb368-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Stadtteil) <span class="sc">%&gt;%</span> </span>
<span id="cb368-3"><a href="abbildungen-i.html#cb368-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">mittlere Anzahl</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(Anzahl),</span>
<span id="cb368-4"><a href="abbildungen-i.html#cb368-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">Hektar =</span> Hektar) <span class="sc">%&gt;%</span> </span>
<span id="cb368-5"><a href="abbildungen-i.html#cb368-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Hektar,</span>
<span id="cb368-6"><a href="abbildungen-i.html#cb368-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> <span class="st">`</span><span class="at">mittlere Anzahl</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb368-7"><a href="abbildungen-i.html#cb368-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-160-1.png" width="600px" style="display: block; margin: auto;" /></p>
<div id="aesthetics-zur-darstellung-zusätzlicher-variablen" class="section level3">
<h3><code>aesthetics</code> zur Darstellung zusätzlicher Variablen</h3>
<p>Die <code>aes</code>-Funktion kann mit einer ganzen Reihe von zusätzlichen Argumenten umgehen und so mehr grafische Eigenschaften des Plots anpassen.</p>
<p>So könnten wir zum Beispiel die Original-Haushaltsgrößen darstellen wollen, jetzt aber ohne zu mitteln sondern als nach den Stadtteilen eingefärbten Punkten. Außerdem wollen wir jetzt mal die Größe der Punkte mit der Anzahl an Haushalten skalieren und mit den für die Punkte genutzten Symbolen die Haushalte.
Um das ganze übersichtlich zu halten, legen wir uns aber auf die Stadtteile Altstadt, Schreventeich, Exerzierplatz, Gaarden-Ost und Blücherplatz fest.</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="abbildungen-i.html#cb369-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="sc">%&gt;%</span> </span>
<span id="cb369-2"><a href="abbildungen-i.html#cb369-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Stadtteil <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Altstadt&#39;</span>, </span>
<span id="cb369-3"><a href="abbildungen-i.html#cb369-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Schreventeich&#39;</span>, </span>
<span id="cb369-4"><a href="abbildungen-i.html#cb369-4" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Exerzierplatz&#39;</span>, </span>
<span id="cb369-5"><a href="abbildungen-i.html#cb369-5" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Blücherplatz&#39;</span>,</span>
<span id="cb369-6"><a href="abbildungen-i.html#cb369-6" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Gaarden-Ost&#39;</span>))<span class="sc">%&gt;%</span> </span>
<span id="cb369-7"><a href="abbildungen-i.html#cb369-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Hektar,</span>
<span id="cb369-8"><a href="abbildungen-i.html#cb369-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> Anzahl,</span>
<span id="cb369-9"><a href="abbildungen-i.html#cb369-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> Stadtteil,</span>
<span id="cb369-10"><a href="abbildungen-i.html#cb369-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> Haushaltsform,</span>
<span id="cb369-11"><a href="abbildungen-i.html#cb369-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> Anzahl)) <span class="sc">+</span></span>
<span id="cb369-12"><a href="abbildungen-i.html#cb369-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="imgs/point_aes.png" width="600px" style="display: block; margin: auto;" /></p>
<p>Schön ist das jetzt nicht, aber es gibt einen Eindruck für die Möglichkeiten, die <code>ggplot</code> bietet.</p>
<p>Die möglichen <code>aes()</code>-Argumente sind die folgenden:</p>
<ul>
<li><code>colour</code>: Eine Variable, die farblich zu codierende Einträge kennzeichnet</li>
<li><code>fill</code>: Eine Variable, die bei Säulendiagrammen u.ä. die zu unterscheidenen Einträge kennzeichnet</li>
<li><code>shape</code>: die bei Punktdiagrammen zu nutzenden Symbole</li>
<li><code>linetype</code>: der bei Liniendiagrammen zu nutzende Linientyp</li>
<li><code>group</code>: Ein für zukünftige Schichten zu berücksichtigender Gruppierungsfaktor</li>
<li><code>alpha</code>: Transparenz der Farben</li>
</ul>
</div>
<div id="grafiken-fine-tunen" class="section level3">
<h3>Grafiken fine-tunen</h3>
<p>Zusätzlich zu der Grundebene und den <code>geom</code>s bietet ggplot noch eine Reihe von Oprimierungs-Stellschrauben an denen wir schrauben können. Die erste die wir angucken, ist die <code>theme</code>-Funktion. Mit der können wir sehr sehr viele Parameter der Grafik anpassen, wir geben uns hier jetzt aber mal mit der Legenden-Position zufrieden:</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="abbildungen-i.html#cb370-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="sc">%&gt;%</span> </span>
<span id="cb370-2"><a href="abbildungen-i.html#cb370-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Stadtteil <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Altstadt&#39;</span>, </span>
<span id="cb370-3"><a href="abbildungen-i.html#cb370-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Schreventeich&#39;</span>, </span>
<span id="cb370-4"><a href="abbildungen-i.html#cb370-4" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Exerzierplatz&#39;</span>, </span>
<span id="cb370-5"><a href="abbildungen-i.html#cb370-5" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Blücherplatz&#39;</span>,</span>
<span id="cb370-6"><a href="abbildungen-i.html#cb370-6" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Gaarden-Ost&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb370-7"><a href="abbildungen-i.html#cb370-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Hektar,</span>
<span id="cb370-8"><a href="abbildungen-i.html#cb370-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> Anzahl,</span>
<span id="cb370-9"><a href="abbildungen-i.html#cb370-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> Stadtteil,</span>
<span id="cb370-10"><a href="abbildungen-i.html#cb370-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> Haushaltsform,</span>
<span id="cb370-11"><a href="abbildungen-i.html#cb370-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> Anzahl)) <span class="sc">+</span></span>
<span id="cb370-12"><a href="abbildungen-i.html#cb370-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb370-13"><a href="abbildungen-i.html#cb370-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&#39;bottom&#39;</span>)</span></code></pre></div>
<p><img src="imgs/point_aes2.png" width="600px" style="display: block; margin: auto;" /></p>
<p>Nicht viel besser, wir bleiben bei der alten Variante.</p>
</div>
<div id="parameter-mit-den-scale-funktionen-anpassen" class="section level3">
<h3>Parameter mit den <code>scale</code>-Funktionen anpassen</h3>
<p>Wir könnten zum Beispiel neue Farben für unseren Plot festlegen.</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="abbildungen-i.html#cb371-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="sc">%&gt;%</span> </span>
<span id="cb371-2"><a href="abbildungen-i.html#cb371-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Stadtteil <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Altstadt&#39;</span>, </span>
<span id="cb371-3"><a href="abbildungen-i.html#cb371-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Schreventeich&#39;</span>, </span>
<span id="cb371-4"><a href="abbildungen-i.html#cb371-4" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Exerzierplatz&#39;</span>, </span>
<span id="cb371-5"><a href="abbildungen-i.html#cb371-5" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Blücherplatz&#39;</span>,</span>
<span id="cb371-6"><a href="abbildungen-i.html#cb371-6" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&#39;Gaarden-Ost&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb371-7"><a href="abbildungen-i.html#cb371-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Hektar,</span>
<span id="cb371-8"><a href="abbildungen-i.html#cb371-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> Anzahl,</span>
<span id="cb371-9"><a href="abbildungen-i.html#cb371-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> Stadtteil,</span>
<span id="cb371-10"><a href="abbildungen-i.html#cb371-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">shape =</span> Haushaltsform,</span>
<span id="cb371-11"><a href="abbildungen-i.html#cb371-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> Anzahl)) <span class="sc">+</span></span>
<span id="cb371-12"><a href="abbildungen-i.html#cb371-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb371-13"><a href="abbildungen-i.html#cb371-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&#39;Set1&#39;</span>)</span></code></pre></div>
<p><img src="imgs/point_aes3.png" width="600px" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="line-charts" class="section level2">
<h2>line-charts</h2>
<!-- ### line-charts -->
<p>Andere Darstellungsformen lassen sich dann einfach mit anderen geomen umsetzen. So könnten wir zum Beispiel versuchen die mittleren Temperaturen in Kiel seit beginn der Aufzeichnungen darstellen. Dafür lesen wir zuerst den Datensatz ein:</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="abbildungen-i.html#cb372-1" aria-hidden="true" tabindex="-1"></a>weather_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&#39;data/mean_weather.csv&#39;</span>)</span>
<span id="cb372-2"><a href="abbildungen-i.html#cb372-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(weather_df)</span></code></pre></div>
<pre><code>##       year           temp       
##  Min.   :1880   Min.   : 6.250  
##  1st Qu.:1914   1st Qu.: 7.662  
##  Median :1950   Median : 8.308  
##  Mean   :1950   Mean   : 8.374  
##  3rd Qu.:1984   3rd Qu.: 9.051  
##  Max.   :2019   Max.   :10.710</code></pre>
<p>Diese Daten können wir jetzt einfach wieder einer <code>ggplot</code>-Funktion übergeben, auf die wir dann ein Linien-<code>geom</code> layern:</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="abbildungen-i.html#cb374-1" aria-hidden="true" tabindex="-1"></a>weather_df <span class="sc">%&gt;%</span> </span>
<span id="cb374-2"><a href="abbildungen-i.html#cb374-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb374-3"><a href="abbildungen-i.html#cb374-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> temp)) <span class="sc">+</span></span>
<span id="cb374-4"><a href="abbildungen-i.html#cb374-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-171-1.png" width="600px" style="display: block; margin: auto;" />
Da wir Temperaturen darstellen liegt nahe, die Werte mit einer Farbskala einzufärben:</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="abbildungen-i.html#cb375-1" aria-hidden="true" tabindex="-1"></a>weather_df <span class="sc">%&gt;%</span> </span>
<span id="cb375-2"><a href="abbildungen-i.html#cb375-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb375-3"><a href="abbildungen-i.html#cb375-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> temp,</span>
<span id="cb375-4"><a href="abbildungen-i.html#cb375-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> temp)) <span class="sc">+</span></span>
<span id="cb375-5"><a href="abbildungen-i.html#cb375-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-172-1.png" width="600px" style="display: block; margin: auto;" />
Da es sich um Temperaturen handelt ist eine Farbskala von blau bis rot vielleicht näher an der Konvention, dafür können wir eine andere <code>scale</code>-Funktion benutzen:</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="abbildungen-i.html#cb376-1" aria-hidden="true" tabindex="-1"></a>weather_df <span class="sc">%&gt;%</span> </span>
<span id="cb376-2"><a href="abbildungen-i.html#cb376-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb376-3"><a href="abbildungen-i.html#cb376-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> temp,</span>
<span id="cb376-4"><a href="abbildungen-i.html#cb376-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> temp)) <span class="sc">+</span></span>
<span id="cb376-5"><a href="abbildungen-i.html#cb376-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb376-6"><a href="abbildungen-i.html#cb376-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_gradient</span>(<span class="at">low =</span> <span class="st">&#39;darkblue&#39;</span>,</span>
<span id="cb376-7"><a href="abbildungen-i.html#cb376-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">high =</span> <span class="st">&#39;red&#39;</span>)</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-173-1.png" width="600px" style="display: block; margin: auto;" /></p>
<p>Um das ein bisschen eindeutiger zu machen, können wir noch die Achsenbeschriftungen ändern und eine Überschrift hinzufügen:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="abbildungen-i.html#cb377-1" aria-hidden="true" tabindex="-1"></a>weather_df <span class="sc">%&gt;%</span> </span>
<span id="cb377-2"><a href="abbildungen-i.html#cb377-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year,</span>
<span id="cb377-3"><a href="abbildungen-i.html#cb377-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> temp,</span>
<span id="cb377-4"><a href="abbildungen-i.html#cb377-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> temp)) <span class="sc">+</span></span>
<span id="cb377-5"><a href="abbildungen-i.html#cb377-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb377-6"><a href="abbildungen-i.html#cb377-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_gradient</span>(<span class="at">low =</span> <span class="st">&#39;darkblue&#39;</span>,</span>
<span id="cb377-7"><a href="abbildungen-i.html#cb377-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">high =</span> <span class="st">&#39;red&#39;</span>) <span class="sc">+</span></span>
<span id="cb377-8"><a href="abbildungen-i.html#cb377-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&#39;mittlere Jahrestemperatur in Kiel&#39;</span>,</span>
<span id="cb377-9"><a href="abbildungen-i.html#cb377-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&#39;Jahr&#39;</span>,</span>
<span id="cb377-10"><a href="abbildungen-i.html#cb377-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&#39;mittlere Temperatur °C&#39;</span>,</span>
<span id="cb377-11"><a href="abbildungen-i.html#cb377-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&#39;°C&#39;</span>)</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-174-1.png" width="600px" style="display: block; margin: auto;" /></p>
</div>
<div id="balkendiagramme" class="section level2">
<h2>Balkendiagramme</h2>
<!-- ### Balkendiagramme zur Darstellung von festen Werten -->
<p>In vielen Publikationen finden sich Balkendiagramme mit Streuungsbalken, die zur Illustration von Mittelwertsvergleichen eingesetzt werden.</p>
<p>Um so ein Diagramm zu erstellen, beginnen wir mit der Aggregation unserer Werte. Da wir die oberen un unteren Grenzen der Fehlerbalken festlegen müssen, erstellen wir gleich je eine Spalte mit den Mittelwerten plus und minus den SEM.</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="abbildungen-i.html#cb378-1" aria-hidden="true" tabindex="-1"></a>agg_df <span class="ot">&lt;-</span> df_long <span class="sc">%&gt;%</span> </span>
<span id="cb378-2"><a href="abbildungen-i.html#cb378-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Haushaltsform) <span class="sc">%&gt;%</span> </span>
<span id="cb378-3"><a href="abbildungen-i.html#cb378-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">m_anzahl =</span> <span class="fu">mean</span>(Anzahl),</span>
<span id="cb378-4"><a href="abbildungen-i.html#cb378-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">sem_anzahl =</span> <span class="fu">sqrt</span>(<span class="fu">var</span>(Anzahl) <span class="sc">/</span> <span class="fu">length</span>(Anzahl)),</span>
<span id="cb378-5"><a href="abbildungen-i.html#cb378-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower =</span> m_anzahl <span class="sc">-</span> sem_anzahl,</span>
<span id="cb378-6"><a href="abbildungen-i.html#cb378-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper =</span> m_anzahl <span class="sc">+</span> sem_anzahl)</span></code></pre></div>
<p>Diesen Datensatz übergeben wir jetzt wieder der <code>ggplot</code>-Funktion:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="abbildungen-i.html#cb379-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> agg_df <span class="sc">%&gt;%</span> </span>
<span id="cb379-2"><a href="abbildungen-i.html#cb379-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Haushaltsform,</span>
<span id="cb379-3"><a href="abbildungen-i.html#cb379-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> m_anzahl))</span></code></pre></div>
<p>Auf deren Ergebnis wir dann das <code>geom_col</code>-<code>geom</code> addieren:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="abbildungen-i.html#cb380-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_col</span>()</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-177-1.png" width="600px" style="display: block; margin: auto;" /></p>
<p>Das können wir ein bisschen schöner machen, indem wir die Balken einfärben:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="abbildungen-i.html#cb381-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Haushaltsform)) <span class="sc">+</span></span>
<span id="cb381-2"><a href="abbildungen-i.html#cb381-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&#39;Set1&#39;</span>)</span>
<span id="cb381-3"><a href="abbildungen-i.html#cb381-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb381-4"><a href="abbildungen-i.html#cb381-4" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-178-1.png" width="600px" style="display: block; margin: auto;" />
Jetzt fügen wir der Grafik mit <code>geom_errorbar</code> die SEM-Fehlerbalken hinzu:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="abbildungen-i.html#cb382-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> lower, </span>
<span id="cb382-2"><a href="abbildungen-i.html#cb382-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">ymax =</span> upper),</span>
<span id="cb382-3"><a href="abbildungen-i.html#cb382-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">width =</span> .<span class="dv">25</span>)</span>
<span id="cb382-4"><a href="abbildungen-i.html#cb382-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb382-5"><a href="abbildungen-i.html#cb382-5" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-179-1.png" width="600px" style="display: block; margin: auto;" />
Um den Graphen ein bisschen lesbarer zu machen, tauschen wir x- und y-Achse:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="abbildungen-i.html#cb383-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-180-1.png" width="600px" style="display: block; margin: auto;" />
…und ändern wieder die Achsenbeschriftung:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="abbildungen-i.html#cb384-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb384-2"><a href="abbildungen-i.html#cb384-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&#39;mittlere Anzahl +/- SEM&#39;</span>,</span>
<span id="cb384-3"><a href="abbildungen-i.html#cb384-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&#39;Haushaltsform&#39;</span>)</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-181-1.png" width="600px" style="display: block; margin: auto;" /></p>
</div>
<div id="verteilungsdarstellungen" class="section level2">
<h2>Verteilungsdarstellungen</h2>
<div id="histogramme" class="section level3">
<h3>Histogramme</h3>
<p>Um ein Histogramm zu erstellen, müssen wir nur auf einen <code>ggplot</code> mit einem festgelegt <code>x</code>-aesthetic ein <code>geom_histogram</code> addieren. So könnten wir uns die Hektarzahlen in unserem originalen, nicht pivotierten Kiel-Datensatz anschauen:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="abbildungen-i.html#cb385-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb385-2"><a href="abbildungen-i.html#cb385-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Hektar)) <span class="sc">+</span></span>
<span id="cb385-3"><a href="abbildungen-i.html#cb385-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-182-1.png" width="600px" style="display: block; margin: auto;" />
Das ist jetzt nicht besonders schön, mit einem Festlegen von aesthetics außerhalb der <code>aes</code>-Funktion können wir aber für alle Teile des Plots einen Wert festlegen. So können wir die Flächen mit weiß füllen und hellgrau umreißen:</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="abbildungen-i.html#cb386-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb386-2"><a href="abbildungen-i.html#cb386-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Hektar)) <span class="sc">+</span></span>
<span id="cb386-3"><a href="abbildungen-i.html#cb386-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb386-4"><a href="abbildungen-i.html#cb386-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> <span class="st">&#39;grey&#39;</span>)</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-183-1.png" width="600px" style="display: block; margin: auto;" />
Wir können außerdem die Breite der dargestellten Balken anpassen. mit dem <code>bins</code>-Argument können wir eine Anzahl an Balken festlegen…</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="abbildungen-i.html#cb387-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb387-2"><a href="abbildungen-i.html#cb387-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Hektar)) <span class="sc">+</span></span>
<span id="cb387-3"><a href="abbildungen-i.html#cb387-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb387-4"><a href="abbildungen-i.html#cb387-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> <span class="st">&#39;grey&#39;</span>,</span>
<span id="cb387-5"><a href="abbildungen-i.html#cb387-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">bins =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-184-1.png" width="600px" style="display: block; margin: auto;" />
…mit dem <code>binwidth</code>-Argument eine Breite für die Balken:</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="abbildungen-i.html#cb388-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb388-2"><a href="abbildungen-i.html#cb388-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Hektar)) <span class="sc">+</span></span>
<span id="cb388-3"><a href="abbildungen-i.html#cb388-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&#39;white&#39;</span>,</span>
<span id="cb388-4"><a href="abbildungen-i.html#cb388-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> <span class="st">&#39;grey&#39;</span>,</span>
<span id="cb388-5"><a href="abbildungen-i.html#cb388-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">binwidth =</span> <span class="dv">50</span>)</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-185-1.png" width="600px" style="display: block; margin: auto;" /></p>
</div>
<div id="boxplots" class="section level3">
<h3>Boxplots</h3>
<p>Eine sehr praktische Art und Weise Verteilungen darzustellen, vor allem wenn man die Verteilungen von Gruppen darstellen möchte, sind <em>Boxplots</em>. Hierfür definieren wir einfach einen base-layer mit der Gruppierungsvariable auf der x-Achse und einer numerischen Variable auf der y-Achse:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="abbildungen-i.html#cb389-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="sc">%&gt;%</span> </span>
<span id="cb389-2"><a href="abbildungen-i.html#cb389-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Stadtteil, </span>
<span id="cb389-3"><a href="abbildungen-i.html#cb389-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> Anzahl)) <span class="sc">+</span></span>
<span id="cb389-4"><a href="abbildungen-i.html#cb389-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-186-1.png" width="600px" style="display: block; margin: auto;" />
Um die Achsenbeschriftung lesbarer zu machen könnten wir jetzt entweder erneut die Achsen flippen:</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="abbildungen-i.html#cb390-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="sc">%&gt;%</span> </span>
<span id="cb390-2"><a href="abbildungen-i.html#cb390-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Stadtteil, </span>
<span id="cb390-3"><a href="abbildungen-i.html#cb390-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> Anzahl)) <span class="sc">+</span></span>
<span id="cb390-4"><a href="abbildungen-i.html#cb390-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb390-5"><a href="abbildungen-i.html#cb390-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-187-1.png" width="600px" style="display: block; margin: auto;" />
Oder die Achsenbeschriftung mit einem neuen Argument der <code>theme</code>-Funktion drehen. Dieses erwartet ein Ergebnis der <code>element_text</code>-Funktion, die die Möglichkeit bietet, ästhetische Parameter für Schriftzüge festzulegen, so zum Beispiel den Winkel (<code>angle</code> in °) und die Adjustierung entlang der x-Achse (<code>hjust</code>):</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="abbildungen-i.html#cb391-1" aria-hidden="true" tabindex="-1"></a>df_long <span class="sc">%&gt;%</span> </span>
<span id="cb391-2"><a href="abbildungen-i.html#cb391-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Stadtteil, </span>
<span id="cb391-3"><a href="abbildungen-i.html#cb391-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> Anzahl)) <span class="sc">+</span></span>
<span id="cb391-4"><a href="abbildungen-i.html#cb391-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb391-5"><a href="abbildungen-i.html#cb391-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>,</span>
<span id="cb391-6"><a href="abbildungen-i.html#cb391-6" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="EDV1_WS20_files/figure-html/unnamed-chunk-188-1.png" width="600px" style="display: block; margin: auto;" /></p>
<!-- # Diagrammtypen -->
<!-- ### Diagrammtypen -->
<!-- Hier behandelt werden sollen: -->
<!-- * `geom_point()` für Punkt- und Streudiagramme -->
<!-- * `geom_line()` für Liniendiagramme -->
<!-- * `geom_bar()` für Säulendiagramme -->
<!--     + `coord_polar()` für Kreisdiagramme -->
<!-- * `geom_histogram()` für Histogramme -->
<!-- * `geom_boxplot()` für Boxplots -->
<!-- ## Liniendiagramme -->
<!-- ### Liniendiagramme -->
<!--   \begin{minipage}{.6\textwidth} -->
<!-- \textbf{Wofür kann man Liniendiagramme verwenden?} -->
<!-- \begin{itemize} -->
<!-- \item[A] Um sich einen Überblick über die Verteilung zu verschaffen. -->
<!--   \item[B] Um Zusammenhangsmaße zu illustrieren. -->
<!--   \item[C] Um Mittelwertsverläufe darzustellen. -->
<!--   \item[D] Um Gruppenunterschiede herauszustellen. -->
<!--   \item[E] Um Häufigkeiten darzustellen -->
<!--   \end{itemize} -->
<!-- \end{minipage} -->
<!-- \begin{minipage}{.4\textwidth} -->
<!-- \centering -->
<!-- https://tweedback.de/x56 -->
<!-- \includegraphics[width=.8\textwidth]{tweedback.png} -->
<!-- \end{minipage} -->
<!-- ### Liniendiagramme -->
<!-- Liniendiagramme werden genutzt um Verläufe zeitlicher oder inhaltlicher Natur darzustellen. -->
<!-- Dazu wird in `ggplot2` die `geom_line()`-Funktion verwendet.  -->
<!-- In unserem Beispiel verwenden wir die Funktion um dem Punktdiagramm der Mittelwerte Verlaufslinien hinzuzufügen. -->
<!-- ```{r} -->
<!-- meanLines <- meanPoints + geom_line() -->
<!-- ``` -->
<!-- ### Lineindiagramme -->
<!-- ```{r} -->
<!-- meanLines -->
<!-- ``` -->
<!-- ## Säulendiagramme -->
<!-- ### Balkendiagramme -->
<!--   \begin{minipage}{.6\textwidth} -->
<!-- \textbf{Wofür kann man Säulen-/ Balkendiagramme verwenden?} -->
<!-- \begin{itemize} -->
<!-- \item[A] Um sich einen Überblick über die Verteilung zu verschaffen. -->
<!--   \item[B] Um Zusammenhangsmaße zu illustrieren. -->
<!--   \item[C] Um Mittelwertsverläufe darzustellen. -->
<!--   \item[D] Um Gruppenunterschiede herauszustellen. -->
<!--   \item[E] Um Häufigkeiten darzustellen -->
<!--   \end{itemize} -->
<!-- \end{minipage} -->
<!-- \begin{minipage}{.4\textwidth} -->
<!-- \centering -->
<!-- https://tweedback.de/x56 -->
<!-- \includegraphics[width=.8\textwidth]{tweedback.png} -->
<!-- \end{minipage} -->
<!-- ### Säulendiagramme absoluter Häufigkeiten -->
<!-- Säulendiagramme können mit `ggplot2` in der üblichen Verwendung dazu genutzt werden, um Häufigkeitsverteilungen darzustellen. Dazu muss bei der Erstellung der Plot-Basis an das `x`-Argument eine kategoriale Variable übergeben werden, deren absolute Häufigkeiten dann von `geom_bar(stat='count')` ausgezählt und als Balkenhöhe dargestellt werden. -->
<!-- ```{r} -->
<!-- absFreqBar <- ggplot(sampleSet,  -->
<!--                      aes(x=rating, group=sex,  -->
<!--                          fill=sex)) + -->
<!--   geom_bar(stat = 'count') -->
<!-- ``` -->
<!-- ### Säulendiagramme absoluter Häufigkeiten -->
<!-- ```{r} -->
<!-- absFreqBar -->
<!-- ``` -->
<!-- ### Säulendiagramme -->
<!-- Das `position`-Argument von `geom_bar()` kann genutzt werden, um die Balken statt gestapelt gruppiert darzustellen. -->
<!-- Dafür muss dieses auf `position_dodge()` gesetzt werden. -->
<!-- ```{r} -->
<!-- absFreqBar <- ggplot(sampleSet,  -->
<!--                      aes(x=rating,  -->
<!--                          group=sex, -->
<!--                          fill=sex)) + -->
<!--   geom_bar(stat = 'count', -->
<!--            position = position_dodge()) -->
<!-- ``` -->
<!-- ### Säulendiagramme absoluter Häufigkeiten -->
<!-- ```{r} -->
<!-- absFreqBar -->
<!-- ``` -->
<!-- ### Säulendiagramme anderer Kennwerte -->
<!-- Es kann um relative Häufigkeiten oder Mittelwerte darzustellen sinnvoll sein, `geom_bar()` nicht Kategorien auszählen zu lassen, sonder Die Werte zu übergeben, die ausgezählt werden sollen. -->
<!-- Dafür muss das `stat`-Argument auf `'identity'` gesetzt werden und ein geeigneter Datensatz übergeben werden. Die an `y` übergebene Variable wird dann als Balkenhöhe dargestellt. -->
<!-- ```{r} -->
<!-- meanBar <- ggplot(groupMeans,  -->
<!--                   aes(x=group,y=means,  -->
<!--                       group=sex, fill=sex)) + -->
<!--   geom_bar(stat = 'identity',  -->
<!--            position = position_dodge()) -->
<!-- ``` -->
<!-- ### Säulendiagramme anderer Kennwerte -->
<!-- ```{r} -->
<!-- meanBar -->
<!-- ``` -->
<!-- ### Säulendiagramme relativer Häufigkeiten -->
<!-- So ähnlich lassen sich dann auch Balkendiagramme relativer Häufigkeiten darstellen.  -->
<!-- \scriptsize -->
<!-- ```{r} -->
<!-- relFreq <- data.frame( prop.table( with( sampleSet, -->
<!--                                          ftable(rating,sex, -->
<!--                                                 row.vars = c('rating', -->
<!--                                                              'sex'))))) -->
<!-- relFreqBar <- ggplot(relFreq, aes(x=rating,y=Freq, -->
<!--                                   group=sex, fill=sex)) + -->
<!--   geom_bar(stat = 'identity', position = position_dodge()) -->
<!-- ``` -->
<!-- ### Säulendiagramme relativer Häufigkeiten -->
<!-- ```{r} -->
<!-- relFreqBar -->
<!-- ``` -->
<!-- ### Säulendiagramme relativer Häufigkeiten -->
<!-- Alternativ lassen sich Säulendiagramme relativer Häufigkeiten auch mit der internen Variable `...count...` realisieren. Diese Art spart ein paar Zwischenschritte. -->
<!-- ```{r} -->
<!--  relFreqBar <- ggplot(sampleSet,  -->
<!--                      aes(x=rating, group=sex,  -->
<!--                          fill=sex)) + -->
<!--   geom_bar(stat="count", -->
<!--            aes(y=(..count..) / sum(..count..)), -->
<!--            position=position_dodge()) -->
<!-- ``` -->
<!-- ### Säulendiagramme relativer Häufigkeiten -->
<!-- ```{r} -->
<!-- relFreqBar -->
<!-- ``` -->
<!-- ### Kreisdiagramme -->
<!-- Fügt man einem Barplot relativer Häufigkeiten mit nur einer Gruppierungsvariable noch den Parameter `coord_polar()` mit Angabe über die zu nutzende Variable hinzu, lassen sich die Daten als Torten-Diagramm darstellen. -->
<!-- ```{r} -->
<!-- pieChart <- ggplot(relFreq,  -->
<!--                      aes(x='', -->
<!--                          y=Freq, -->
<!--                          fill=rating)) + -->
<!--   geom_bar(stat = 'identity') + -->
<!--   coord_polar('y', start = 0) -->
<!-- ``` -->
<!-- ### Kreisdiagramme -->
<!-- ```{r, out.height= '6cm', out.width='7cm'} -->
<!-- pieChart -->
<!-- ``` -->
<!-- ### Kreisdiagramme -->
<!-- An dieser Stelle ist die Benutzung der R - Basisfunktion (`pie()`) einfacher. -->
<!-- ```{r, out.height= '5cm', out.width='6cm'} -->
<!-- pie(table(sampleSet$rating)) -->
<!-- ``` -->
<!-- ## Boxplots -->
<!-- ### Boxplots  -->
<!-- \small -->
<!-- Boxplots sind Abbildungen, in denen die Datenlage als Visualisierung verschiedener Kennwerte dargestellt werden. Der Median wird durch eine Linie dargestellt, um die eine Box gezeichnet wird. Die obere und untere Grenze dieser Box liegen genau beim 3. und 1. Quartil respektive, in dem Rechteck befinden sich also die mittleren 50% der Werte. \newline -->
<!-- Aus der Box laufen oben und unten die sogenannten *whiskers*, deren Ende diejenigen Werte darstellen, die noch keine Ausreißer sind. Als Außreißer sind solche Werte definiert, die weiter als den anderthalbfachen Interquartilabstand von einem der Quartile entfernt sind. -->
<!-- Ausreißer werden dann als einzelne Punkte dargestellt. -->
<!-- ```{r, echo=F, out.height='2cm', out.width='6cm'} -->
<!-- ggplot(data.frame('data'=c(20,45:67,80,87,95)),  -->
<!--                 aes(x = '',y = data)) + -->
<!--   geom_boxplot() + coord_flip() -->
<!-- ``` -->
<!-- ### Boxplots -->
<!--   \begin{minipage}{.6\textwidth} -->
<!-- \textbf{Wofür kann man Boxplots verwenden?} -->
<!-- \begin{itemize} -->
<!-- \item[A] Um sich einen Überblick über die Verteilung zu verschaffen. -->
<!--   \item[B] Um Zusammenhangsmaße zu illustrieren. -->
<!--   \item[C] Um Mittelwertsverläufe darzustellen. -->
<!--   \item[D] Um Gruppenunterschiede herauszustellen. -->
<!--   \item[E] Um Häufigkeiten darzustellen -->
<!--   \end{itemize} -->
<!-- \end{minipage} -->
<!-- \begin{minipage}{.4\textwidth} -->
<!-- \centering -->
<!-- https://tweedback.de/x56 -->
<!-- \includegraphics[width=.8\textwidth]{tweedback.png} -->
<!-- \end{minipage} -->
<!-- ### Boxplots -->
<!--  Boxplots werden genutzt, um die (nach Gruppen getrennte) Verteilung von Variablen übersichtlich darzustellen. In `ggplot2` funktioniert dies mit einem zusätzlichen `geom_boxplot` zur Grafik-Grundebene. Diese muss auf der `x`-Achse den Gruppierenungsfaktor definiert haben, sollte einer gewünscht sein.Jeder einzelne Boxplot stellt dann für eine Gruppe von `x` die Verteilung der in `y` genannten Variable dar.  -->
<!-- ```{r} -->
<!-- boxes <- ggplot(sampleSet,  -->
<!--                 aes(x = sex, y = weight)) + -->
<!--   geom_boxplot() -->
<!-- ``` -->
<!-- ### Boxplots -->
<!-- ```{r} -->
<!-- boxes -->
<!-- ``` -->
<!-- ## Histogramme -->
<!-- ### Histogramme -->
<!--   \begin{minipage}{.6\textwidth} -->
<!-- \textbf{Wofür kann man Histogramme verwenden?} -->
<!-- \begin{itemize} -->
<!-- \item[A] Um sich einen Überblick über die Verteilung zu verschaffen. -->
<!--   \item[B] Um Zusammenhangsmaße zu illustrieren. -->
<!--   \item[C] Um Mittelwertsverläufe darzustellen. -->
<!--   \item[D] Um Gruppenunterschiede herauszustellen. -->
<!--   \item[E] Um Häufigkeiten darzustellen -->
<!--   \end{itemize} -->
<!-- \end{minipage} -->
<!-- \begin{minipage}{.4\textwidth} -->
<!-- \centering -->
<!-- https://tweedback.de/x56 -->
<!-- \includegraphics[width=.8\textwidth]{tweedback.png} -->
<!-- \end{minipage} -->
<!-- ### Histogramme -->
<!-- Histogramme werden genutzt, um Häufigkeitsverteilungen stetiger Variablen darzustellen. Diese werden dazu in Intervalle fester größen eingeteilt. -->
<!-- In `ggplot2` geschieht das über die Verwendung von `geom_histogram()`. Mit dem `binwidth`-Argument lässt sich, wenn gewünscht, die Breite der Intervalle regulieren. Als Standard wird die Intervalbreite gewählt, die in genau 30 bins resultiert. -->
<!-- ```{r} -->
<!-- histPlot <- ggplot(sampleSet, aes(x=mood)) + -->
<!--   geom_histogram(binwidth=5) -->
<!-- ``` -->
<!-- ### Histogramme -->
<!-- ```{r} -->
<!-- histPlot -->
<!-- ``` -->
<!-- ### Histogramme -->
<!-- Da die Form eines Histogramms von der willkürlichen Breite der Intervalle entschieden wird, kann es sinnvoll sein, eine Schätzung der Kerndichte zusätzlich darzustellen. Dafür kann die `geom_densitiy()`-Funktion verwendet werden. Dafür muss dem Histogrammaufruf ein Aufruf der Funktion `aes` übergeben werden, dessen `y`-Wert auf die interne Variable `..density..` gesetzt wird. -->
<!-- ```{r} -->
<!-- histPlotDens <- ggplot(sampleSet, aes(x=mood)) + -->
<!--   geom_histogram(aes(y = ..density..),  -->
<!--                  binwidth = 10) + -->
<!--   geom_density() -->
<!-- ``` -->
<!-- ### Histogramme -->
<!-- ```{r} -->
<!-- histPlotDens -->
<!-- ``` -->
<!-- # Diagramme formatieren -->
<!-- ### Diagrammeigenschaften verändern -->
<!-- `ggplot2` bietet natürlich die Möglichkeit, einige Diagrammeigenschaften zusätzlich zu den Standardeinstellungen zu manipulieren und weitere Elemente zu einem Diagramm hinzuzufügen. -->
<!-- Die (nicht vollständige) Auswahl , mit der wir uns hier beschäftigen wollen ist: -->
<!-- * das Anpassen von Achsen -->
<!-- * Änderungen der Legende -->
<!-- * Änderungen von Farben, Datenpunktsymbolen und Linientypen -->
<!-- * das Hinzufügen einzelner Grafikelemente -->
<!-- ## Achsen -->
<!-- ### Achsen anpassen -->
<!-- `ggplot2` bietet eine Vielzahl von Möglichkeiten, das Aussehen und Verhalten der Achsen zu manipulieren und seinen Vorstellungen anzupassen. Hier wird nur auf die Achsenbeschriftung eingegangen. -->
<!-- Es ist in so gut wie allen Fällen sinnvoll, die default-Beschriftung der *x*- und *y*-Achsen zu verändern. Dies geschieht bei `ggplot2` durch das hinzufügen der `labs()`-Funktion zu einer Grundschicht. Dazu wird wie bei dem Aufschalten von Plots auch ein `+` verwendet. -->
<!-- Durch das setzen des `x`- und/oder des `y`-Arguments auf einen Textwert überschreibt man die Achsenbeschriftung. -->
<!-- Mit `title` lässt sich außerdem eine Überschrift vergeben werden, sollte dies gewünscht sein. -->
<!-- ```{r} -->
<!-- histPlotDens <- histPlotDens + -->
<!--   labs(x='Stimmung', y='Dichte',  -->
<!--        title='Histogramm der Stimmung mit Dichtschätzer') -->
<!-- ``` -->
<!-- ### Achsen anpassen -->
<!-- ```{r} -->
<!-- histPlotDens -->
<!-- ``` -->
<!-- ## Legende -->
<!-- ### Anpassen der Legende -->
<!-- Die automatisch generierte Legende lässt sich genau wie die Achsen quasi frei anpassen. -->
<!-- Mit dem Argument `legend.position` der Funktion `theme()` lässt sich die Legende an eine Seite des Plots verschieben oder auch unterdrücken. -->
<!-- ```{r} -->
<!-- boxes <- ggplot(sampleSet,  -->
<!--                 aes(x = sex, -->
<!--                     y = weight, -->
<!--                     fill = sex)) + -->
<!--   geom_boxplot() + -->
<!--   theme(legend.position = 'left') -->
<!-- ``` -->
<!-- ### Legendenposition -->
<!-- \small -->
<!-- ```{r, eval=F} -->
<!-- boxes -->
<!-- boxes+theme(legend.position = 'none') -->
<!-- boxes+theme(legend.position = 'bottom') -->
<!-- boxes+theme(legend.position = 'top') -->
<!-- ``` -->
<!-- ```{r,echo=F, out.height= '6cm', out.width= '6cm' } -->
<!-- library(gridExtra) -->
<!-- grid.arrange(boxes, -->
<!-- boxes+theme(legend.position = 'none'), -->
<!-- boxes+theme(legend.position = 'bottom'), -->
<!-- boxes+theme(legend.position = 'top')) -->
<!-- ``` -->
<!-- ### Unnötige Einträge entfernen -->
<!-- \small -->
<!-- Mit der Funktion `guides()` lassen sich außerdem einzelne, nicht erwünschte Elemente der Legende unterdrücken. -->
<!-- ```{r, eval=FALSE} -->
<!-- meanLines -->
<!-- meanLines + guides(shape=FALSE) -->
<!-- meanLines + guides(colour=FALSE) -->
<!-- ``` -->
<!-- ```{r, echo=FALSE, out.height= '5cm', out.width='7cm'} -->
<!-- grid.arrange( -->
<!-- meanLines, -->
<!-- meanLines + guides(shape=FALSE), -->
<!-- meanLines + guides(colour=FALSE)) -->
<!-- ``` -->
<!-- ### Formatierungsdetails -->
<!-- Formatierungsdetails aller Grafikelemente lassen sich über `theme` steuern. Für eine Übersicht `?theme` in der Konsole eingeben. -->
<!-- ## Farben, Datenpunktsymbole und Linientypen -->
<!-- ### Farben, Datenpunktsymbole und Linientypen -->
<!-- Man kann die Farben, Datenpunktsymbole und Linientypen seines Plots entweder direkt im `ggplot()`-Aufruf, oder in dem der gewünschten Grafikfunktion setzen, in `aes()` mit den Variablen eines Datensatzes verknüpfen oder außerhalb von `aes()` auf einen festen Wert setzen. -->
<!-- Hier werden wir aber nur auf die Farbwahl eingehen. -->
<!-- ## Farben -->
<!-- ### Farben  -->
<!-- Dabei lassen sich für die erste Möglichkeit an `colour` eine ganze Palette an Farben übergeben, das Basis `graphics`-Paket bietet alleine eine große Zahl an vordefinierten, benannten Farben: -->
<!-- ```{r} -->
<!-- length(colours()) -->
<!-- colours()[1:20] -->
<!-- ``` -->
<!-- ### Farben -->
<!-- Zusätzlich kann dann noch mit `alpha` die simulierte Transparenz der ausgewählten Farben bestimmt werden. Bei zu füllenden Flächen kann mit dem `fill`-Argument für diese eine Fabre bestimmt werden. -->
<!-- ```{r} -->
<!-- histPlotDens <- ggplot(sampleSet, aes(x=mood)) + -->
<!--   geom_histogram(aes(y = ..density..),  -->
<!--                  binwidth = 10, -->
<!--                  fill='white', -->
<!--                  colour= 'black') + -->
<!--   geom_density(colour='red', -->
<!--                fill = 'red', -->
<!--                alpha= 0.2) -->
<!-- ``` -->
<!-- ### Farben -->
<!-- ```{r} -->
<!-- histPlotDens -->
<!-- ``` -->
<!-- ### Farben -->
<!-- Diese Art der nachträglichen Kolorierung hat aber ihre Grenzen -->
<!-- ```{r} -->
<!-- absFreqBar <- ggplot(sampleSet,  -->
<!--                      aes(x=rating,  -->
<!--                          group=sex, -->
<!--                          fill=sex)) + -->
<!--   geom_bar(stat = 'count', -->
<!--            position = position_dodge(), -->
<!--            colour=c('grey'), -->
<!--            fill=rep(c('chartreuse', 'tomato'),4)) -->
<!-- ``` -->
<!-- ### Farben -->
<!-- ```{r} -->
<!-- absFreqBar -->
<!-- ``` -->
<!-- ### Farbpalette ändern -->
<!-- Mit den Funktionen `scale_fill_manual()` und `scale_colour_manual()` lassen sich selbstdefinierte Farbvektoren ohne Verlust von Grafikelementen übergeben. -->
<!-- ```{r} -->
<!-- absFreqBar <- ggplot(sampleSet,  -->
<!--                      aes(x=rating,  -->
<!--                          group=sex, -->
<!--                          fill=sex)) + -->
<!--   geom_bar(stat = 'count', -->
<!--            position = position_dodge())+ -->
<!--   scale_fill_manual(values=c('chartreuse', -->
<!--                              'tomato')) -->
<!-- ``` -->
<!-- ### Farbpalette ändern -->
<!-- ```{r} -->
<!-- absFreqBar -->
<!-- ``` -->
<!-- ### Farbpalette ändern -->
<!-- Es ist aber eleganter, eine vordefinierte Farbpalette zum Austauschen zu benutzen. Beispielsweise mit den Funktionen `scale_fill_hue()` und `scale_colour_hue()`. Diese erwarten als Argumente  -->
<!-- * `h`, den Abgedeckten Farbbereich als Vektor mit zwei Winkeln des Farbkreises im Gradmaß, -->
<!-- * `c`, die Sättigung der Farben und -->
<!-- * `l`, die gewünschte Helligkeit. -->
<!-- `scale_fill_grey()` und `scale_colour_grey()` machen dies Für Graustufen-Werte. Dabei sind nur zwei Argumente nötig, nämlich `start`, der Startwert des gewünschten Sättigungsbereichs und `end`, dessen Ende. -->
<!-- ### Farbpalette ändern -->
<!-- ```{r, eval=F} -->
<!-- meanLines + scale_colour_hue(h=c(90,270),c=c(75,75), -->
<!--                              l=75) -->
<!-- meanLines + scale_colour_grey(start = 0.1,end = 0.9) -->
<!-- ``` -->
<!-- ```{r, echo=F, out.height='6cm'} -->
<!-- grid.arrange( -->
<!-- meanLines + scale_colour_hue(h=c(90,270),c=c(75,75), l=75), -->
<!-- meanLines + scale_colour_grey(start = 0.3,end = 0.7), nrow=1, ncol=2) -->
<!-- ``` -->
<!-- ## Zusätzliche Elemente -->
<!-- ### Punkte -->
<!-- Die schon bekannte Funktion `geom_point()` kann genutzt werden, um einem bestehenden Graphen Punkte hinzuzufügen. Zum Beispiel kann das sinnvoll sein, wenn man in einen Boxplot zusätzlich die Stichprobenmittelwerte eintragen möchte. -->
<!-- ```{r} -->
<!-- weightMeans <- with(sampleSet, -->
<!--                     aggregate(weight, by=list(sex = sex), -->
<!--                               FUN=mean)) -->
<!-- boxesWMeans <- boxes + geom_point(data=weightMeans,aes(x=sex,y=x),  -->
<!--                                   colour='red') -->
<!-- ``` -->
<!-- ### Punkte -->
<!-- ```{r} -->
<!-- boxesWMeans -->
<!-- ``` -->
<!-- ### Linien -->
<!-- Mit `geom_vline` und `geom_hline` lassen sich einem Graphen an einem oder mehreren WErten vertikale oder horizontale Linien einzeichnen. Das kann beispielsweise bei Balkendiagrammen genutzt werden, um den Mittelwert der Gesamtstichprobe einzuzeichnen -->
<!-- ```{r} -->
<!-- overAllM <- mean(groupMeans$means) -->
<!-- meanBarWOAMean <- meanBar +  -->
<!--   geom_hline(yintercept = overAllM, -->
<!--              colour='chartreuse') -->
<!-- ``` -->
<!-- ### Linien -->
<!-- ```{r} -->
<!-- meanBarWOAMean -->
<!-- ``` -->
<!-- ### Funktionsgraphen -->
<!-- Mit der Funktion `stat_function` lassen sich wie folgt Verteilungsfunktionen einzeichnen. Das kann bei Histogrammen sinnvoll sein. -->
<!-- ```{r} -->
<!-- histWNorm <- ggplot(sampleSet, aes(x=mood)) + -->
<!--   geom_histogram(aes(y = ..density..),  -->
<!--                  binwidth = 10, -->
<!--                  fill='white', -->
<!--                  colour= 'black')+ -->
<!--   stat_function(fun=dnorm,  -->
<!--                 args = list(mean=mean(sampleSet$mood), -->
<!--                             sd=sd(sampleSet$mood)), -->
<!--                 colour = 'tan') -->
<!-- ``` -->
<!-- ### Funktionsgraphen -->
<!-- ```{r} -->
<!-- histWNorm -->
<!-- ``` -->
<!-- ### Funktionsgraphen -->
<!--   \begin{minipage}{.6\textwidth} -->
<!-- \textbf{Warum sollte man einen Funktionsgraphen in ein Histogramm einzeichnen?} -->
<!-- \begin{itemize} -->
<!--   \item[A] Um sich einen Überblick über die Verteilung zu verschaffen. -->
<!--   \item[B] Als graphischen Test der Verteilungsklasse. -->
<!--   \item[C] Als Illustration der Abweichnungen von der Verteilungsklasse. -->
<!--   \end{itemize} -->
<!-- \end{minipage} -->
<!-- \begin{minipage}{.4\textwidth} -->
<!-- \centering -->
<!-- https://tweedback.de/x56 -->
<!-- \includegraphics[width=.8\textwidth]{tweedback.png} -->
<!-- \end{minipage} -->
<!-- ### Fehlerbalken -->
<!-- Fehlerbalken lassen sich entweder mit `geom_linerange()` oder `geom_errorbar()` hinzufügen. Dabei müssen beide im ersten Aufruf von `aes()` über die Argumente `ymin` und `ymax` definiert werden. -->
<!-- `geom_errorbar()` zeichnet dabei im Gegensatz zu `geom_linerange()` am Ende der Fehlerbalken horizontale Linien ein. -->
<!-- Dafür müssen zuerst die Gruppenweisen *SEM*-Werte berechnet werden. -->
<!-- ```{r} -->
<!-- sems <- with(sampleSet,  -->
<!--                    aggregate(mood, -->
<!--                              list('sex'=sex,  -->
<!--                                      'group'=group), -->
<!--                              FUN=sd)) -->
<!-- n <- with(sampleSet,  -->
<!--                    aggregate(mood, -->
<!--                              list('sex'=sex,  -->
<!--                                      'group'=group), -->
<!--                              FUN=length)) -->
<!-- ``` -->
<!-- ### Fehlerbalken -->
<!-- ```{r} -->
<!-- sems[,3] <- sems[,3]/sqrt(n[,3]) -->
<!-- names(sems)[3] <- 'sems' -->
<!-- groupMeans$sems <- sems$sems -->
<!-- ``` -->
<!-- Dann die Mittelwerte +/- die SEMs als Variable dem Datensatz hinzugefügt werden: -->
<!-- ```{r} -->
<!-- groupMeans$upperSEM <- groupMeans$means+groupMeans$sems -->
<!-- groupMeans$lowerSEM <- groupMeans$means-groupMeans$sems -->
<!-- ``` -->
<!-- ### Fehlerbalken -->
<!-- \scriptsize -->
<!-- Dann können die o.g. Fuktionen verwendet werden um Balken-oder Liniendiagramme mit Fehlerbalken zu erstellen. -->
<!-- Dabei muss aber beachtet werden, dass bei Balkendiagrammen die Verwendung des `position`-Arguments nötig ist. -->
<!-- ```{r} -->
<!-- meanPoints <- ggplot(groupMeans, -->
<!--                    aes(x=group, y=means, color=sex, -->
<!--                        shape=sex, group=sex, -->
<!--                        ymin=lowerSEM, -->
<!--                        ymax = upperSEM)) + -->
<!--   geom_point() + -->
<!--   geom_line() + -->
<!--   geom_linerange() -->
<!-- meanBar <- ggplot(groupMeans,  -->
<!--                   aes(x=group,y=means,  -->
<!--                       group=sex, fill=sex, -->
<!--                        ymin=lowerSEM, -->
<!--                        ymax = upperSEM)) + -->
<!--   geom_bar(stat = 'identity',  -->
<!--            position = position_dodge(), -->
<!--            width = .9) + -->
<!--   geom_errorbar(position = position_dodge(width = .9), -->
<!--                 width=.2) -->
<!-- ``` -->
<!-- ### Fehlerbalken -->
<!-- ```{r,eval=F} -->
<!-- meanPoints -->
<!-- meanBar -->
<!-- ``` -->
<!-- ```{r,echo=F, out.height='6cm'} -->
<!-- grid.arrange( -->
<!-- meanPoints, -->
<!-- meanBar, ncol=2) -->
<!-- ``` -->
<!-- # Präsenzaufgabe -->
<!-- ### Präsenzaufgabe: Prüfungsformat -->
<!-- \scriptsize -->
<!-- Die Leistung von 108 Studierenden aus 2 Gruppen in einer gemeinsamen, aus 2 Aufgaben bestehenden Prüfung soll untersucht werden. -->
<!-- 1. Erstellen Sie dazu -->
<!--   * Einen Faktor, der die Gruppenzugehörigkeit der Studierenden als 'M' oder 'B' codiert enthält, wobei 'M' 53 und 'B' 55 mal in zufälliger Reihenfolge auftauchen soll. -->
<!--   * Einen Vektor, der die Punktzahl der Studierenden in Aufgabe 1 enthält, wobei die möglichen Punkte in Schritten von 0.5 zwischen 0 und 20 mit gleicher Auftretenswahrscheinlichkeit gezogen werden sollen. -->
<!--   * Einen Vektor, der die Punktzahl der Studierenden in Aufgabe 2 enthält, wobei die möglichen Punkte mit der N(10,2.5)-Verteilung generiert und auf eine Nachkommastelle gerundet werden sollen. -->
<!-- 2. Fügen Sie die Variablen zu einem Datensatz zusammen. -->
<!-- 3. Erstellen Sie einen Vektor, der die aufsummierte Gesamtpunktzahl für jeden Studierenden enthält und fügen Sie diesen dem Datensatz hinzu. -->
<!-- 4. Erstellen Sie einen Faktor, der angibt ob der jeweilige Studierende bestanden hat oder nicht. Dabei gelten alle Gesamtpunktzahlen unter deren Median als durchgefallen. -->
<!-- 5. Erstellen Sie eine Kontingenztafel mit den absoluten Häufigkeiten der gemeinsamen Verteilung der Gruppe und des das Durchfallen codierenden Faktors. -->
<!-- 6. Stellen Sie die Verteilung der Gesamtpunktzahlen in einem  Boxplot dar und Fügen Sie eine rote horizontale Linie ein, die den Mittelwert darstellt. -->

<!-- #--- -->
<!-- title: 'Psy_B_11: EDV I - Kapitel 7' -->
<!-- subtitle: 'Abbildungen II' -->
<!-- author: "Max Brede" -->
<!-- date: \today -->
<!-- output: -->
<!--   ioslides_presentation: -->
<!--     transition: faster -->
<!--     css: /home/brede/MEGA/Honorar/111220_KfN/styles.css -->
<!--     slide_level: 3 -->
<!-- widescreen: true -->
<!-- --- -->
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="aggregation-und-filemanagement.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="abbildungen-ii.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["EDV1_WS20.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
